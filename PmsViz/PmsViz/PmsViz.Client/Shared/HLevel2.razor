@if(TsZone.isDirectional)
{        
    @TsZone.ZoneDisplayName
}
else
{
    <div class="zone-grid-container">    
        <div class="zone-title">
            @TsZone.ZoneDisplayName
        </div>
        <div class="zone-children-container" style="@styleRgvDirection">
            @foreach (var rgv in TsZone.RgvData)
            {
                <HLevel1 ZoneId="@TsZone.id"
                         Rgv="@rgv"
                         DeviceHasBeenClicked="DeviceHasBeenClicked"
                         MarkedDevices="@MarkedDevices" />
            }
        </div>        
    </div>
}

@code {

    [Parameter]
    public AreaZoneInGrid TsZone { get; set; } = new AreaZoneInGrid();

    [Parameter]
    public EventCallback<string> DeviceHasBeenClicked { get; set; }

    [Parameter]
    public List<string> MarkedDevices { get; set; } = new();
   
    string styleRgvDirection
    {
        get
        {
            int numberOfRowsOrColumns = TsZone.RgvData == null ? 0 : TsZone.RgvData.Count;
            if (TsZone.Direction.Contains("W") || TsZone.Direction.Contains("E"))
            {
                return $"grid-template-columns: repeat({numberOfRowsOrColumns}, 1fr);";
            }
            else
            {
                return $"grid-template-rows: repeat({numberOfRowsOrColumns}, 1fr);";
            }
        }
    }

   

    

    void DeviceItemOnClicked(Dictionary<string, string> rgv)
    {
        var rgvId = rgv.GetValueAsString("Id");
        DeviceHasBeenClicked.InvokeAsync(rgvId);
    }
}

<style>
    .zone-grid-container {
        width: 100%;
        height: 100%;
        display: grid;
        box-sizing: border-box;
        grid-template-columns: 1fr;
        grid-template-rows: 1fr; /* 7 rows, each 100px tall */
        font-size: 10px;
    }

    .zone-title {
        text-align: left;
        font-size: 14px;
    }

    .zone-children-container {
        display: grid;
        box-sizing: border-box;
        gap: 3px;
        font-size: 10px;
        margin: 2px;
    }

    

    

  
</style>
